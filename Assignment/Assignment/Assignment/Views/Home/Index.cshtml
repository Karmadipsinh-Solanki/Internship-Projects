@using Model.ViewModels;
@model StudentViewModel;
@{
    ViewData["Title"] = "Home Page";
}

@section Styles {
    <link href="~/css/student.css" rel="stylesheet" type="text/css" />
}
@section Scripts {
    @{
        <partial name="_ValidationScriptsPartial" />
    }
}


<div id="body">
    <header class="brown">
        <div class="d-flex justify-content-center align-items-center subBrown">
            <span class="whiteText">Student Management System</span>
        </div>
        <!-- Button trigger modal -->
        <button class="addStudentBtn me-0" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            <span class="brownText h6">Add Student</span>
        </button>
    </header>
    <div class="mt-3">
        <form asp-action="Index" asp-controller="Home">
            @* <input type="hidden" asp-for="Id" id="Id" /> *@
            <div class="mb-3 search">
                <input type="text" class="inputSearch" placeholder="Search" id="PatientName" />
            </div>
            @* <div class="form-floating mb-3 search">
            <input type="text" placeholder="Search" class="form-control" id="PatientName"/>
            </div> *@


            @if (Model.Query.Count != 0)
            {
            <div class="table-responsive" style="margin-top: 20px">
                <div id="Data"></div>
            </div>
            }
        </form>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5 whiteText" id="exampleModalLabel">Student Form</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" placeholder="First Name" class="form-control" id="first-name" asp-for="FirstName"/>
                                <label for="first-name" class="labels">First Name</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" placeholder="Last Name" class="form-control" id="Last-name" />
                                <label for="Last-name" class="labels">Last Name</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" placeholder="Email" class="form-control" id="Email" />
                                <label for="Email" class="labels">Email</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="date" placeholder="MM/DD/YYYY" class="form-control" id="dob" />
                                <label for="dob" class="labels">Date Of Birth</label>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <span class="me-2">Gender</span>

                        <div class="form-check me-2">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                            <label class="form-check-label" for="flexRadioDefault1">
                                Male
                            </label>
                        </div>

                        <div class="form-check me-2">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                            <label class="form-check-label" for="flexRadioDefault2">
                                Female
                            </label>
                        </div>

                        <div class="form-check me-2">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3">
                            <label class="form-check-label" for="flexRadioDefault3">
                                Other
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <select class="form-select py-0" aria-label="Default select example">
                                    <option selected>Grade</option>
                                    <option value="1">1st-3rd</option>
                                    <option value="2">4th-6th</option>
                                    <option value="3">7th-8th</option>
                                    <option value="3">9th-812th</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input type="text" placeholder="Course" class="form-control" id="Course" />
                                <label for="Course" class="labels">Course</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="background-color:white;"><span class="text-dark">Cancel</span></button>
                    <button type="button" class="btn btn-primary" style="background-color:#3f51b5;">Save</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $.ajax({
            url: '/Home/SearchRecords',
            type: 'POST',
            dataType: 'html',
            // Pass your data here
            success: function (response) {
                $("#Data").html(response);
            },
            error: function () {
                alert('An error occurred.');
            }
        });
        function filter(page, pageSize) {
            var firstName = document.getElementById('FirstName').value;
            document.getElementById("Data").style.display = "none";
            $.ajax({
                url: `/Home/SearchRecords`,
                type: 'POST',
                dataType: 'html',
                data: { firstName: FirstName, page: page, pageSize: pageSize },
                // Pass your data here
                success: function (response) {
                    //console.log(response);
                    $("#Data").html(response);
                    // document.getElementById('loader2').style.display = 'none';
                    document.getElementById("Data").style.display = "block";

                    //document.getElementById('PatientHistoryTablePartialView').style.display = 'block';
                },
                error: function () {
                    alert('An error occurred.');
                }
            });
        }
    </script>
</div>
